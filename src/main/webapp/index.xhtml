<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/template/default/gridLayout.xhtml"
                xmlns:p="http://primefaces.org/ui">

    <!-- SEARCH BAR -->
    <ui:define name="searchBar">

        <h:form id="searchBox">

            <h:panelGrid columns="32" cellpadding="5">

                <div class="sortField">

                    <h:outputLabel class="mainLabel"
                                   value="Seleccione os Ingredientes"/>

                </div>
                <div class="sortField">

                    <h:selectManyListbox value="#{global.searchQuery}"
                                         styleClass="select2">
                        <f:selectItems var="ing" value="#{global.returnIngredientes()}"
                                       itemLabel="#{ing.nome}" itemValue="#{ing.id}"/>
                    </h:selectManyListbox>

                    <p:commandButton value="Procurar Receitas"
                                     action="#{global.searchIngredientes()}"
                                     update="paginator imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-search">
                    </p:commandButton>

                </div>

                <div class="sortField">

                    <h:outputLabel class="mainLabel"
                                   value="Ordenação:"/>

                </div>

                <div class="sortField">
                    <h:outputLabel class="mainLabel"
                                   value="1)"/>
                </div>

                <div class="sortField">

                    <h:outputText id="relevanciaSort" class="subLabel"
                                  value="Relevância Ingrediente-Receita"/>

                    <h:selectBooleanCheckbox immediate="true" value="#{global.sortByRelevancia}"/>


                </div>
                <div class="sortField">
                    <h:outputLabel class="mainLabel"
                                   value="+"/>
                </div>
                <div class="sortField">
                    <h:outputLabel class="mainLabel"
                                   value="2)"/>
                </div>
                <div class="sortField">

                    <h:outputText id="caloriasSort" class="subLabel"
                                  value="Calorias"/>

                    <p:commandButton action="#{global.searchIngredientesByCaloriasAsc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-n"/>
                    <p:commandButton action="#{global.searchIngredientesByCaloriasDesc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-s"/>


                </div>
                <div class="sortField">


                    <h:outputText id="proteinasSort" class="subLabel"
                                  value="Proteínas"/>

                    <p:commandButton action="#{global.searchIngredientesByProteinasAsc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-n"/>
                    <p:commandButton action="#{global.searchIngredientesByProteinasDesc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-s"/>


                </div>
                <div class="sortField">


                    <h:outputText id="hidratosSort" class="subLabel"
                                  value="Hidratos"/>

                    <p:commandButton action="#{global.searchIngredientesByHidratosAsc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-n"/>
                    <p:commandButton action="#{global.searchIngredientesByHidratosDesc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-s"/>


                </div>
                <div class="sortField">

                    <h:outputText id="gordurasSort" class="subLabel"
                                  value="Gorduras"/>

                    <p:commandButton action="#{global.searchIngredientesByGordurasAsc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-n"/>
                    <p:commandButton action="#{global.searchIngredientesByGordurasDesc()}"
                                     update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4"
                                     icon="ui-icon-arrowthick-1-s"/>


                </div>

            </h:panelGrid>

            <h:outputScript>
                $(".select2").select2();
            </h:outputScript>

        </h:form>

    </ui:define>

    <!-- GRID -->
    <!-- IMAGE 1 -->
    <ui:define name="receitaImagem1">
        <h:form id="imagem1">
            <h:commandLink
                    action="#{global.showUniqueReceita(global.startGridIndex)}">
                <h:graphicImage styleClass="receita-imagem"
                                value="#{global.receitaResult.get(global.startGridIndex).imagem}"/>
            </h:commandLink>
        </h:form>
    </ui:define>

    <ui:define name="receitaNome1">
        <h:form id="nome1">
            <h:outputText styleClass="receita-nome"
                          value="#{global.receitaResult.get(global.startGridIndex).nome}"/>
        </h:form>
    </ui:define>

    <!-- IMAGE 2 -->
    <ui:define name="receitaImagem2">
        <h:form id="imagem2">
            <h:commandLink
                    action="#{global.showUniqueReceita(global.startGridIndex + 1)}">
                <h:graphicImage styleClass="receita-imagem"
                                url="#{global.receitaResult.get(global.startGridIndex + 1).imagem}"/>
            </h:commandLink>
        </h:form>
    </ui:define>

    <ui:define name="receitaNome2">
        <h:form id="nome2">
            <h:outputText styleClass="receita-nome"
                          value="#{global.receitaResult.get(global.startGridIndex + 1).nome}"/>
        </h:form>
    </ui:define>

    <!-- IMAGE 3 -->
    <ui:define name="receitaImagem3">
        <h:form id="imagem3">
            <h:commandLink
                    action="#{global.showUniqueReceita(global.startGridIndex + 2)}">
                <h:graphicImage styleClass="receita-imagem"
                                url="#{global.receitaResult.get(global.startGridIndex + 2).imagem}"/>
            </h:commandLink>
        </h:form>
    </ui:define>

    <ui:define name="receitaNome3">
        <h:form id="nome3">
            <h:outputText styleClass="receita-nome"
                          value="#{global.receitaResult.get(global.startGridIndex + 2).nome}"/>
        </h:form>
    </ui:define>

    <!-- IMAGE 4 -->
    <ui:define name="receitaImagem4">
        <h:form id="imagem4">
            <h:commandLink
                    action="#{global.showUniqueReceita(global.startGridIndex + 3)}">
                <h:graphicImage styleClass="receita-imagem"
                                url="#{global.receitaResult.get(global.startGridIndex + 3).imagem}"/>
            </h:commandLink>
        </h:form>
    </ui:define>

    <ui:define name="receitaNome4">
        <h:form id="nome4">
            <h:outputText styleClass="receita-nome"
                          value="#{global.receitaResult.get(global.startGridIndex + 3).nome}"/>
        </h:form>
    </ui:define>

    <ui:define name="pageCounter">
        <h:form id="paginator">
            <h:inputHidden id="pageIndex" value="#{global.paginator.pageIndex}"/>
            <h:outputLabel id="pageNumber" class="paginatorLabel" rendered="#{global.renderPageCounter}"
                           value="Página #{global.paginator.pageIndex} de #{global.paginator.pages}"/>
            <h:outputLabel class="paginatorBulletLabel" rendered="#{global.renderPageCounter}"
                           value="◆"/>
            <h:outputLabel id="counter" class="paginatorLabel" rendered="#{global.renderPageCounter}"
                           value="#{global.receitaResultCounterOutput}"/>
        </h:form>
    </ui:define>

    <!-- BUTTON LEFT -->
    <ui:define name="cursorLeft">
        <h:form>
            <h:commandLink action="#{global.renderLeft()}"
                           update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4">
                <h:graphicImage styleClass="cursor-left-click"
                                value="#{global.receitaPlaceholder.imagem}"/>
            </h:commandLink>
        </h:form>
    </ui:define>

    <!-- BUTTON RIGHT -->
    <ui:define name="cursorRight">
        <h:form>
            <h:commandLink action="#{global.renderRight()}"
                           update="imagem1 imagem2 imagem3 imagem4 nome1 nome2 nome3 nome4">
                <h:graphicImage styleClass="cursor-right-click"
                                value="#{global.receitaPlaceholder.imagem}"/>
            </h:commandLink>
        </h:form>
    </ui:define>


</ui:composition>








